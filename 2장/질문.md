## www.naver.com 을 주소창에 입력하면 어떻게 되나요?
리다이렉트, 캐싱, DNS, IP 라우팅, TCP 연결 구축을 거쳐 요청, 응답이 일어나는 TTFB(Time to First Byte)가 시작되고 이 후 컨텐츠를 다운받게 되고 이 후 브라우저 렌더링 과정을 거쳐 네이버라는 화면이 나타나게 됩니다.

### 리다이렉트
리다이렉트가 있다면 리다이렉트를 진행하고 없다면 그대로 해당 요청에 대한 과정이 진행된다.

### 캐싱
해당 요청이 캐싱이 가능한지 않은지를 파악한다.
캐싱이 이미 된 요청이면 캐싱된 값을 반환, 새로운 요청이면 다음단계로 넘어간다.
브라우저 캐시와 공유 캐시로 나뉜다.

### 브라우저 캐시
쿠키, 로컬스토리지 등을 포함한 캐시이다. 개인캐시(private cache)라고도 한다.
브라우저 자체가 사용자가 HTTP를 통해 다운로드하는 모든 문서를 보유하는 것.

인터넷 사용기록 삭제를 하면 삭제되는 쿠키 및 기타 사이트 데이터, 캐시가 이 것이다.

### 공유 캐시
공유 캐시는 클라이언트와 서버 사이에 있고 사용자간에 공유할 수 있는 응답을 저장할 수 있다.

대표적으로 요청한 서버 앞단에 프록시서버가 캐싱을 하는 것.
이를 리버스 프록시를 둬서 내부서버로 포워드한다고도 한다.

서버 앞에 nginx를 둬서 캐싱서버로 두는 것.
클라이언트가 요청하면 nginx에 있는 캐시된 데이터를 바로 전달.

캐싱서버로 많이 쓰이는 것 : AWS의 cloud front, cloudflare

![alt text](image.png)

### DNS
DNS(Domain Name System)은 계층적인 도메인 구조와 분산된 데이터베이스를 이용한 시스템으로 FQDN을 인터넷 프로토콜인 IP로 바꿔주는 시스템이다.

FQDN(Fully Qualified Domain Name) : 호스트와 도메인이 합쳐진 완전한 도메인. www는 호스트 naver.com은 도메인

www.naver.com 이면 root DNS -> .com DNS -> .naver DNS -> .www DNS 과정을 거침

### DNS 캐싱
미리 해당 도메인 이름을 요청했으면 로컬 PC에 자동으로 저장된다.
브라우저 캐싱과 OS 캐싱이 있다.

### IP 라우팅
해당 IP를 기반으로 라우팅, ARP 과정을 거쳐 실제 서버를 찾는다.

### TCP 연결 구축
TCP 3-way handshake 및 SSL 연결등을 통해 연결한다. 요청을 보내고 응답을 받는다.

### 콘텐츠 다운로드
요청한 컨텐츠를 서버로부터 다운로드 받는다.

다운로드 처음 시작할 때 TTFB

### 브라우저 랜더링
받은 데이터를 바탕으로 브라우저 엔진이 브라우저 렌더링과정을 거쳐 화면을 만든다.