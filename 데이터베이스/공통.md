## DB 스토리지 엔진
스토리지 엔진은 DBMS에서 데이터를 저장하고 관리하는 핵심 구성요소입니다.

### 역할
스토리지 엔진에 따라 제공하는 기능이 다릅니다.
1. 데이터 저장 방식 결정
2. 데이터 읽기 쓰기 성능 최적화
3. 트랜젝션 지원 여부
4. 동시성 제어
5. 데이터 무결성 보장

### MySQL
MySQL의 기본 DB 스토리지 엔진은 InnoDB입니다.

1. InnoDB
- MySQL의 기본 스토리지 엔진
- 트랜잭션 지원 (ACID 준수)
- 외래 키(Foreign Key) 지원
- MVCC(다중 버전 동시성 제어) 지원
- Crash Recovery(충돌 복구) 기능 내장
- 높은 동시성을 제공하여 OLTP(Online Transaction Processing)에 적합
  
2. MyISAM
- 트랜잭션 미지원 (ACID 미준수)
- 빠른 읽기 성능을 제공하여 검색이 많은 환경(읽기 집중형)에 적합
- 외래 키 미지원
- 테이블 수준의 잠금(Locking) 방식 사용

## 트랜잭션 격리수준

동시에 여러 트랜잭션이 실행될 때 한 트랜잭션이 다른 트랜잭션의 연산에 영향을 받지 않도록 하는 정도를 나타낸다.

낮은 격리수준은 동시성을 높이지만, 데이터의 일관성에 문제가 발생할 수 있다.

높은 격리수준은 데이터의 일관성을 보장하지만, 동시성이 낮아진다.

### 종류
- READ UNCOMMITTED
  
  커밋이 되지 않은 데이터 변경 내용도 다른 트랜잭션이 읽을 수 있음. dirty read, phantom read, non-repeatable read 발생할 수 있다.

- READ COMMITTED
  
  커밋이 완료된 트랜잭션의 변경내용만 다른 트랜잭션이 조회 할 수 있다. 트랜잭션이 이루어지는 데이터는 접근이 불가능.
  phantom read, non-repeatable read 발생할 수 있다.

- REPEATABLE READ
  
  한 트랜잭션이 특정 레코드를 조회할 때 항상 같은 데이터를 반환하는 것을 보장. phantom read 발생할 수 있다.

- SERIALIZABLE
  
  트랜잭션이 사용중인 테이블 전체를 다른 트랜잭션이 접근 못하게 함. 테이블에 Lock이 걸리기 때문에 동시성이 가장 낮음.

### 격리수준에 따라 발생하는 문제

- Dirty Read
  
  한 트랜잭션이 다른 트랜잭션이 변경 중인 데이터를 읽는 경우 발생한다. 커밋되지 않은 데이터를 읽었기 때문에 롤백될 경우 서로 다른 값을 가지게 될 가능성이 있다.

- Non-repeatable Read
  
  같은 트랜잭션 안에서 같은 쿼리를 실행했을때 서로 다른 결과를 얻는 경우. 첫번째 쿼리와 두번째 쿼리 사이에 다른 트랜잭션이 값을 변경한 경우 발생.

- Phantom Read
  
  한 트랜잭션이 동일한 쿼리를 두 번 실행했을 때, 사이에 다른 트랜잭션이 Insert, Update, Delete 작업을 수행해 결과 집합이 달라지는 경우.