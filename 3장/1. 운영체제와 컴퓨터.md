# 운영체제와 컴퓨터

## 1. 운영체제의 역할과 구조
### 운영체제의 역할
크게 4가지
#### 1. CPU 스케줄링과 프로세스 관리
CPU 소유권 어떤 프로세스에 할당할지? 프로세스 생성, 삭제, 자원 할당 및 반환
#### 2. 메모리 관리
한정된 메모리 어떤 프로세스에 얼만큼 할당할지
#### 3. 디스크 파일 관리
디스크 파일 어떤 방법으로 보관할지
#### 4. I/O 디바이스 관리
마우스, 키보드 등 컴퓨터 간에 데이터를 주고받는 것 관리

### 운영체제의 구조
GUI, 시스템콜, 커널, 드라이버

#### 시스템콜
운영체제가 커널에 접근하기 위한 인터페이스, 유저 프로그램이 운영체제의 서비스를 받기 위해 커널 함수를 호출할 때 쓴다.

파일을 읽는 함수가 발동하면 유저 모드에서 바로 파일을 읽지 않고 커널 모드로 들어가 파일을 읽고 다시 유저 모드로 돌아가 유저 프로그램을 실행한다. 자원에 대한 직접적인 접근을 차단할 수 있다.

프로세스나 쓰레드에서 운영체제로 요청을 할 때 시스템콜이라는 인터페이스와 커널을 거쳐 운영체제로 전달된다.

시스템콜은 추상화 계층이다.

##### modebit
시스템콜이 작동될 때 modebit을 참고해 유저 모드와 커널 모드를 구분한다. 0이면 커널, 1이면 유저

## 2. 컴퓨터의 요소
CPU, DMA 컨트롤러, 메모리, 타이머, 디바이스 컨트롤러 등으로 이루어져 있다.

### CPU
산술논리연산장치, 제어장치, 레지스터로 구성된 장치

#### 제어장치
제어장치(CU, Control Unit) 프로세스 조작을 지시하는 CPU 부품.
입출력장치간 통신 제어, 명령어 읽고 해석, 데이터 처리 순서 결정

#### 레지스터
CPU안의 매우 빠른 임시기억장치.
연산속도가 메모리보다 수십, 수백배 빠르다.

#### 산술논리연산장치
산술논리연산장치(ALU, Arithmetic Logic Unit) 덧셈, 뺄셈 같은 산술연산, 논리합, 논리곱 같은 논리연산을 계산하는 디지털회로

- CPU 연산처리
1. CU가 메모리, 레지스터에 계산할 값을 로드
2. CU가 레지스터의 값을 계산하라고 ALU에 명령
3. CU가 계산된 값을 레지스터에서 메모리로 저장

#### 인터럽트
신호가 들어왔을 때 CPU를 잠깐 정지시키는 것.

- 하드웨어 인터럽트
  
  I/O 디바이스를 연결하는 일 등에서 발생하는 인터럽트
- 소프트웨어 인터럽트
  
  트랩(trap)이라고도 한다. 프로세스 오류 등으로 프로세스가 시스템콜을 호출할 때 발생.

### DMA 컨트롤러